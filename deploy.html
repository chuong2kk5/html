<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hướng dẫn triển khai Laravel + Nuxt: VPS và Vercel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3b82f6;
            --primary-dark: #1e40af;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --background: #ffffff;
            --surface: #f8fafc;
            --surface-dark: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border: #e2e8f0;
            --border-light: #f1f5f9;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--background);
            font-size: 16px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Navigation */
        .nav {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .nav-content {
            display: flex;
            gap: 2rem;
            padding: 1rem 0;
            overflow-x: auto;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
            white-space: nowrap;
            font-weight: 500;
        }

        .nav-link:hover {
            color: var(--primary-color);
            background: var(--surface-dark);
        }

        /* Main Content */
        .main {
            padding: 3rem 0;
        }

        .section {
            margin-bottom: 4rem;
            background: var(--background);
            border-radius: 1rem;
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-light);
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            font-weight: 600;
            line-height: 1.3;
        }

        h2 {
            font-size: 2.25rem;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        h2::before {
            content: '';
            width: 4px;
            height: 2rem;
            background: linear-gradient(to bottom, var(--primary-color), var(--primary-dark));
            border-radius: 2px;
        }

        h3 {
            font-size: 1.5rem;
            margin: 2rem 0 1rem 0;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        /* Code blocks */
        code {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            background: var(--surface-dark);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            color: var(--danger-color);
            border: 1px solid var(--border);
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.75rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            box-shadow: var(--shadow-lg);
            border: 1px solid #334155;
        }

        pre code {
            background: none;
            padding: 0;
            border: none;
            color: inherit;
            font-size: inherit;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
            border-radius: 0.75rem;
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--background);
        }

        th {
            background: var(--surface);
            color: var(--text-primary);
            font-weight: 600;
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid var(--border);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-secondary);
        }

        tr:hover {
            background: var(--surface-dark);
        }

        /* Notes and alerts */
        .note {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 1px solid #93c5fd;
            border-left: 4px solid var(--primary-color);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .note::before {
            content: '💡';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.25rem;
        }

        .note p {
            color: var(--primary-dark);
            margin-bottom: 0;
        }

        .note strong {
            color: var(--primary-dark);
        }

        /* Comparison cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .comparison-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
        }

        .comparison-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .comparison-card h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }

        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin: 0.25rem;
        }

        .badge-success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }

        .badge-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }

        .badge-danger {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        /* Steps */
        .steps {
            counter-reset: step-counter;
        }

        .step {
            counter-increment: step-counter;
            position: relative;
            padding-left: 3rem;
            margin-bottom: 2rem;
        }

        .step::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 2rem;
            height: 2rem;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header p {
                font-size: 1rem;
            }

            .section {
                padding: 1.5rem;
            }

            h2 {
                font-size: 1.75rem;
            }

            .nav-content {
                gap: 1rem;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Selection */
        ::selection {
            background: var(--primary-color);
            color: white;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1>Hướng dẫn triển khai Laravel + Nuxt</h1>
                <p>Tài liệu chi tiết triển khai ứng dụng web với <strong>Laravel Backend</strong> và <strong>Nuxt 3 Frontend</strong> theo hai phương pháp chuyên nghiệp</p>
            </div>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="#overview" class="nav-link">Tổng quan</a>
                <a href="#vps-deployment" class="nav-link">Triển khai VPS</a>
                <a href="#vercel-deployment" class="nav-link">Vercel + VPS</a>
                <a href="#comparison" class="nav-link">So sánh</a>
                <a href="#optimization" class="nav-link">Tối ưu hóa</a>
                <a href="#conclusion" class="nav-link">Kết luận</a>
            </div>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <section id="overview" class="section">
                <h2>📋 Tổng quan</h2>
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>🖥️ Hướng 1: VPS Tập trung</h4>
                        <p>Chạy cả Frontend và Backend trên cùng một VPS</p>
                        <div class="badge badge-success">✅ Dễ quản lý</div>
                        <div class="badge badge-warning">⚠️ Phụ thuộc VPS</div>
                    </div>
                    <div class="comparison-card">
                        <h4>☁️ Hướng 2: Hybrid Cloud</h4>
                        <p>Frontend trên Vercel, Backend trên VPS</p>
                        <div class="badge badge-success">✅ Hiệu năng cao</div>
                        <div class="badge badge-warning">⚠️ Cần CORS</div>
                    </div>
                </div>
                <p>Mỗi phương pháp sẽ được giải thích chi tiết với cấu hình, tối ưu hóa, và các lưu ý bảo mật chuyên nghiệp.</p>
            </section>

            <section id="vps-deployment" class="section">
                <h2>🖥️ I. Cả Laravel và Nuxt chạy trên cùng VPS</h2>
                <p>Phương pháp này triển khai cả FE và BE trên một VPS, phù hợp khi cần kiểm soát toàn diện hoặc trong giai đoạn phát triển nội bộ.</p>
                
                <h3>1.1. Ưu điểm và Nhược điểm</h3>
                <p><strong>Ưu điểm:</strong> Dễ quản lý, không cần cấu hình CORS, toàn quyền kiểm soát server.</p>
                <p><strong>Nhược điểm:</strong> Tốc độ tải phụ thuộc vào cấu hình VPS, cần tối ưu hóa thủ công.</p>

                <h3>1.2. Cấu trúc thư mục</h3>
                <p>Tổ chức mã nguồn tại <code>/var/www/your-project/</code>:</p>
                <pre>/var/www/your-project/
├── backend/        # Mã nguồn Laravel
├── frontend/       # Mã nguồn Nuxt 3
└── docker/redis/   # Cấu hình Docker cho Redis</pre>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Sử dụng user không phải root (ví dụ: <code>www-data</code>) để chạy ứng dụng, tránh rủi ro bảo mật.</p>
                </div>

                <div class="steps">
                    <div class="step">
                        <strong>Tạo thư mục:</strong>
                        <pre>sudo mkdir -p /var/www/your-project/{backend,frontend,docker/redis}</pre>
                    </div>
                    <div class="step">
                        <strong>Clone repository:</strong>
                        <pre>cd /var/www/your-project/backend
git clone &lt;your-laravel-repo&gt; .
cd /var/www/your-project/frontend
git clone &lt;your-nuxt-repo&gt; .</pre>
                    </div>
                    <div class="step">
                        <strong>Cài đặt dependencies:</strong>
                        <ul>
                            <li>Laravel: <code>cd backend && composer install && php artisan key:generate</code></li>
                            <li>Nuxt: <code>cd frontend && npm install</code></li>
                        </ul>
                    </div>
                </div>

                <h3>1.3. Cấu hình Redis với Docker</h3>
                <p>Sử dụng Docker để chạy Redis, đảm bảo cô lập và dễ quản lý.</p>
                <p>File <code>/var/www/your-project/docker/redis/docker-compose.yml</code>:</p>
                <pre>version: '3.8'
services:
  redis:
    image: redis:alpine
    container_name: redis_server
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    restart: always

volumes:
  redis_data:</pre>

                <p><strong>Thực hiện:</strong> Chạy <code>docker-compose up -d</code> trong thư mục <code>docker/redis/</code>.</p>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Volume <code>redis_data</code> lưu trữ dữ liệu Redis bền vững, tránh mất dữ liệu khi container khởi động lại.</p>
                </div>

                <h3>1.4. Cấu hình Laravel với Redis</h3>
                <p>Thêm vào file <code>.env</code> của Laravel:</p>
                <pre>APP_ENV=production
APP_DEBUG=false
REDIS_HOST=127.0.0.1
REDIS_PORT=6379</pre>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Đặt <code>APP_ENV=production</code> và <code>APP_DEBUG=false</code> để tối ưu hóa và bảo mật trong môi trường production.</p>
                </div>

                <h3>1.5. Cấu hình Nginx</h3>
                <p>Proxy các request tới Laravel (<code>/api/</code>) và Nuxt (<code>/</code>).</p>
                <p>File <code>/etc/nginx/sites-available/your-project.conf</code>:</p>
                <pre>server {
    listen 80;
    listen [::]:80;
    server_name your-domain.com;

    # Proxy API requests to Laravel
    location /api/ {
        proxy_pass http://127.0.0.1:8000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Proxy frontend requests to Nuxt
    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Static file caching
    location ~* \.(jpg|jpeg|png|css|js|ico|woff|woff2)$ {
        expires 30d;
        access_log off;
    }

    # Enable gzip compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
}</pre>

                <div class="steps">
                    <div class="step">
                        <strong>Tạo file cấu hình:</strong>
                        <pre>sudo nano /etc/nginx/sites-available/your-project.conf</pre>
                    </div>
                    <div class="step">
                        <strong>Kích hoạt:</strong>
                        <pre>sudo ln -s /etc/nginx/sites-available/your-project.conf /etc/nginx/sites-enabled/</pre>
                    </div>
                    <div class="step">
                        <strong>Kiểm tra và khởi động lại Nginx:</strong>
                        <pre>sudo nginx -t && sudo systemctl restart nginx</pre>
                    </div>
                </div>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Đã thêm gzip và caching cho file tĩnh để tối ưu hiệu năng. Nên cấu hình HTTPS bằng Let's Encrypt để bảo mật.</p>
                </div>

                <h3>1.6. Sử dụng Supervisor để chạy Laravel và Nuxt</h3>
                <p>Supervisor giữ các tiến trình Laravel và Nuxt luôn chạy.</p>
                <p><strong>Cài đặt:</strong> <code>sudo apt install supervisor -y</code></p>

                <p><strong>Cấu hình Laravel</strong> (<code>/etc/supervisor/conf.d/laravel.conf</code>):</p>
                <pre>[program:laravel]
directory=/var/www/your-project/backend
command=php artisan serve --host=0.0.0.0 --port=8000
autostart=true
autorestart=true
user=www-data
stdout_logfile=/var/log/supervisor/laravel.log
stderr_logfile=/var/log/supervisor/laravel_err.log</pre>

                <p><strong>Cấu hình Nuxt</strong> (<code>/etc/supervisor/conf.d/nuxt.conf</code>):</p>
                <pre>[program:nuxt]
directory=/var/www/your-project/frontend
command=/usr/bin/node /var/www/your-project/frontend/node_modules/nuxt/bin/nuxt.js start
autostart=true
autorestart=true
user=www-data
stdout_logfile=/var/log/supervisor/nuxt.log
stderr_logfile=/var/log/supervisor/nuxt_err.log</pre>

                <div class="steps">
                    <div class="step">
                        <strong>Build Nuxt:</strong>
                        <pre>cd /var/www/your-project/frontend && npm run build</pre>
                    </div>
                    <div class="step">
                        <strong>Khởi động Supervisor:</strong>
                        <pre>sudo supervisorctl reread && sudo supervisorctl update</pre>
                    </div>
                    <div class="step">
                        <strong>Khởi động các tiến trình:</strong>
                        <pre>sudo supervisorctl start laravel nuxt</pre>
                    </div>
                </div>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Sử dụng <code>nuxt.js start</code> thay vì <code>npm run dev</code> cho môi trường production. User <code>www-data</code> giảm rủi ro bảo mật.</p>
                </div>

                <h3>1.7. Tự động deploy với GitHub Actions</h3>
                <p>File <code>.github/workflows/deploy.yml</code>:</p>
                <pre>name: Deploy to VPS

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      
      - name: SSH and Deploy
        uses: appleboy/ssh-action@v0.1.6
        with:
          host: ${{ secrets.VPS_IP }}
          username: ${{ secrets.VPS_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          script: |
            cd /var/www/your-project
            git pull origin main
            cd backend
            composer install --no-dev --optimize-autoloader
            php artisan migrate --force
            php artisan optimize
            cd ../frontend
            npm install
            npm run build
            supervisorctl restart laravel nuxt</pre>

                <div class="steps">
                    <div class="step">
                        <strong>Thêm secrets:</strong> Thêm <code>VPS_IP</code>, <code>VPS_USER</code>, <code>SSH_PRIVATE_KEY</code> vào GitHub repository settings.
                    </div>
                    <div class="step">
                        <strong>Kích hoạt:</strong> Push code để kích hoạt workflow.
                    </div>
                </div>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Đã thêm các bước tối ưu như <code>composer install --no-dev</code>, <code>php artisan optimize</code>, và chạy migration tự động.</p>
                </div>

                <h3>1.8. Backup MySQL định kỳ</h3>
                <p>Script backup (<code>/root/backup_mysql.sh</code>):</p>
                <pre>#!/bin/bash
DATE=$(date +"%Y-%m-%d-%H-%M")
BACKUP_DIR="/root/db_backups"
DB_USER="your_user"
DB_PASS="your_pass"
DB_NAME="ecommerce"

mkdir -p $BACKUP_DIR
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME > $BACKUP_DIR/ecommerce_$DATE.sql

# Xóa backup cũ hơn 7 ngày
find $BACKUP_DIR -type f -name "*.sql" -mtime +7 -delete</pre>

                <div class="steps">
                    <div class="step">
                        <strong>Tạo script:</strong>
                        <pre>sudo nano /root/backup_mysql.sh</pre>
                    </div>
                    <div class="step">
                        <strong>Phân quyền:</strong>
                        <pre>sudo chmod +x /root/backup_mysql.sh</pre>
                    </div>
                    <div class="step">
                        <strong>Thêm vào crontab:</strong> Chạy hàng ngày lúc 2h sáng
                        <pre>sudo crontab -e</pre>
                        <pre>0 2 * * * /bin/bash /root/backup_mysql.sh</pre>
                    </div>
                </div>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Lưu mật khẩu trong file <code>.my.cnf</code> để tránh lộ thông tin trong script. Ví dụ:</p>
                    <pre>[client]
user=your_user
password=your_pass</pre>
                    <p>Sau đó sửa script: <code>mysqldump --defaults-file=~/.my.cnf $DB_NAME > $BACKUP_DIR/ecommerce_$DATE.sql</code></p>
                </div>
            </section>

            <section id="vercel-deployment" class="section">
                <h2>☁️ II. Frontend trên Vercel, Backend trên VPS</h2>
                <p>Phương pháp này tách FE chạy trên Vercel (serverless, CDN toàn cầu) và BE chạy trên VPS, phù hợp khi cần hiệu năng cao cho FE.</p>

                <h3>2.1. Ưu điểm và Nhược điểm</h3>
                <p><strong>Ưu điểm:</strong> Tốc độ tải FE nhanh nhờ CDN, auto build và CI/CD tích hợp.</p>
                <p><strong>Nhược điểm:</strong> Cần cấu hình CORS, logs tách biệt giữa FE và BE, không hỗ trợ SSR/PHP trên Vercel.</p>

                <h3>2.2. Cấu hình Nuxt</h3>
                <p>File <code>nuxt.config.ts</code>:</p>
                <pre>export default defineNuxtConfig({
  runtimeConfig: {
    public: {
      apiBase: process.env.NUXT_PUBLIC_API_BASE || 'https://api.your-domain.com/api'
    }
  },
  nitro: {
    preset: 'vercel'
  }
})</pre>

                <p>Thêm vào file <code>.env</code> của Nuxt:</p>
                <pre>NUXT_PUBLIC_API_BASE=https://api.your-domain.com/api</pre>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Sử dụng biến môi trường để linh hoạt giữa các môi trường (dev, production). Preset <code>vercel</code> tối ưu hóa build cho Vercel.</p>
                </div>

                <h3>2.3. Cấu hình CORS trong Laravel</h3>
                <p>Chỉnh sửa file <code>config/cors.php</code>:</p>
                <pre>return [
    'paths' => ['api/*'],
    'allowed_methods' => ['*'],
    'allowed_origins' => ['https://your-vercel-domain.vercel.app'],
    'allowed_origins_patterns' => [],
    'allowed_headers' => ['*'],
    'exposed_headers' => [],
    'max_age' => 0,
    'supports_credentials' => false,
];</pre>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Chỉ định rõ <code>allowed_methods</code> (như <code>GET, POST, PUT</code>) và <code>allowed_headers</code> để tăng bảo mật.</p>
                </div>

                <h3>2.4. Deploy Frontend lên Vercel</h3>
                <div class="steps">
                    <div class="step">
                        <strong>Đẩy code:</strong> Đẩy code Nuxt lên GitHub repository.
                    </div>
                    <div class="step">
                        <strong>Liên kết:</strong> Liên kết repository với Vercel qua dashboard.
                    </div>
                    <div class="step">
                        <strong>Cấu hình Vercel:</strong>
                        <ul>
                            <li>Framework Preset: Nuxt.js</li>
                            <li>Build Command: <code>npm run build</code></li>
                            <li>Output Directory: <code>.output</code></li>
                        </ul>
                    </div>
                    <div class="step">
                        <strong>Domain:</strong> Thêm domain tùy chỉnh (nếu cần) và trỏ DNS về Vercel.
                    </div>
                </div>

                <div class="note">
                    <p><strong>Lưu ý:</strong> Vercel tự động build mỗi khi push code lên branch được cấu hình (thường là <code>main</code>).</p>
                </div>

                <h3>2.5. Backend trên VPS</h3>
                <p>Triển khai Laravel trên VPS tương tự Hướng 1 (xem phần 1.2 - 1.8), nhưng chỉ cần cấu hình Nginx cho API:</p>
                <pre>server {
    listen 80;
    server_name api.your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:8000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</pre>
            </section>

            <section id="comparison" class="section">
                <h2>⚖️ III. So sánh hai phương pháp triển khai</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Tiêu chí</th>
                                <th>FE+BE trên VPS</th>
                                <th>FE trên Vercel</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Đơn giản</strong></td>
                                <td><span class="badge badge-success">✅ Dễ quản lý tập trung</span></td>
                                <td><span class="badge badge-danger">❌ Cần cấu hình CORS, tách domain</span></td>
                            </tr>
                            <tr>
                                <td><strong>Tốc độ tải</strong></td>
                                <td><span class="badge badge-danger">❌ Phụ thuộc cấu hình VPS</span></td>
                                <td><span class="badge badge-success">✅ CDN toàn cầu, auto scaling</span></td>
                            </tr>
                            <tr>
                                <td><strong>Debug</strong></td>
                                <td><span class="badge badge-success">✅ Toàn quyền kiểm soát logs</span></td>
                                <td><span class="badge badge-danger">❌ Logs tách biệt (Vercel + VPS)</span></td>
                            </tr>
                            <tr>
                                <td><strong>Auto deploy</strong></td>
                                <td><span class="badge badge-success">✅ GitHub Actions</span></td>
                                <td><span class="badge badge-success">✅ Vercel CI/CD + GitHub Actions</span></td>
                            </tr>
                            <tr>
                                <td><strong>Quản lý domain</strong></td>
                                <td><span class="badge badge-success">✅ Một domain duy nhất</span></td>
                                <td><span class="badge badge-danger">❌ Cần 2 domain/subdomain</span></td>
                            </tr>
                            <tr>
                                <td><strong>SSR hoặc PHP</strong></td>
                                <td><span class="badge badge-success">✅ Hỗ trợ SSR và PHP</span></td>
                                <td><span class="badge badge-danger">❌ Vercel không hỗ trợ PHP</span></td>
                            </tr>
                            <tr>
                                <td><strong>Bảo mật</strong></td>
                                <td><span class="badge badge-success">✅ Toàn quyền cấu hình firewall, SSL</span></td>
                                <td><span class="badge badge-success">✅ Vercel tự động SSL, nhưng cần CORS</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="optimization" class="section">
                <h2>🚀 IV. Tối ưu hóa và Bảo mật</h2>
                <ul>
                    <li><strong>HTTPS:</strong> Sử dụng Let's Encrypt để cài SSL cho Nginx. Ví dụ: <code>sudo certbot --nginx -d your-domain.com</code>.</li>
                    <li><strong>Firewall:</strong> Cấu hình UFW trên VPS: <code>sudo ufw allow 80,443,22/tcp</code>.</li>
                    <li><strong>Caching:</strong> Sử dụng Redis hoặc Varnish để cache API responses, giảm tải server.</li>
                    <li><strong>Monitoring:</strong> Sử dụng Sentry hoặc New Relic để theo dõi lỗi và hiệu năng.</li>
                    <li><strong>Backup:</strong> Lưu backup MySQL lên dịch vụ cloud (như AWS S3) để an toàn hơn.</li>
                </ul>
            </section>

            <section id="conclusion" class="section">
                <h2>🎯 V. Kết luận</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>🖥️ Hướng 1 (VPS)</h4>
                        <p>Phù hợp khi cần toàn quyền kiểm soát, triển khai SSR, hoặc trong giai đoạn phát triển nội bộ.</p>
                        <div class="badge badge-success">Kiểm soát tối đa</div>
                        <div class="badge badge-success">Dễ debug</div>
                    </div>
                    <div class="comparison-card">
                        <h4>☁️ Hướng 2 (Vercel + VPS)</h4>
                        <p>Lý tưởng khi cần hiệu năng cao cho FE, tận dụng CDN và CI/CD hiện đại.</p>
                        <div class="badge badge-success">Hiệu năng cao</div>
                        <div class="badge badge-success">Auto scaling</div>
                    </div>
                </div>
                <p>Tùy vào nhu cầu (chi phí, hiệu năng, bảo trì), bạn có thể chọn một trong hai hoặc kết hợp. Nếu cần debug chi tiết hoặc tối ưu hóa thêm, hãy xem xét các công cụ như Vercel Analytics, Sentry, hoặc cấu hình caching nâng cao.</p>
            </section>
        </div>
    </main>
</body>
</html>