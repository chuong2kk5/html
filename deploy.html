<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H∆∞·ªõng d·∫´n tri·ªÉn khai Laravel + Nuxt: VPS v√† Vercel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3b82f6;
            --primary-dark: #1e40af;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --background: #ffffff;
            --surface: #f8fafc;
            --surface-dark: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border: #e2e8f0;
            --border-light: #f1f5f9;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--background);
            font-size: 16px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Navigation */
        .nav {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .nav-content {
            display: flex;
            gap: 2rem;
            padding: 1rem 0;
            overflow-x: auto;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
            white-space: nowrap;
            font-weight: 500;
        }

        .nav-link:hover {
            color: var(--primary-color);
            background: var(--surface-dark);
        }

        /* Main Content */
        .main {
            padding: 3rem 0;
        }

        .section {
            margin-bottom: 4rem;
            background: var(--background);
            border-radius: 1rem;
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-light);
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            font-weight: 600;
            line-height: 1.3;
        }

        h2 {
            font-size: 2.25rem;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        h2::before {
            content: '';
            width: 4px;
            height: 2rem;
            background: linear-gradient(to bottom, var(--primary-color), var(--primary-dark));
            border-radius: 2px;
        }

        h3 {
            font-size: 1.5rem;
            margin: 2rem 0 1rem 0;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        /* Code blocks */
        code {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            background: var(--surface-dark);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            color: var(--danger-color);
            border: 1px solid var(--border);
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.75rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            box-shadow: var(--shadow-lg);
            border: 1px solid #334155;
        }

        pre code {
            background: none;
            padding: 0;
            border: none;
            color: inherit;
            font-size: inherit;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
            border-radius: 0.75rem;
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--background);
        }

        th {
            background: var(--surface);
            color: var(--text-primary);
            font-weight: 600;
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid var(--border);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-secondary);
        }

        tr:hover {
            background: var(--surface-dark);
        }

        /* Notes and alerts */
        .note {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 1px solid #93c5fd;
            border-left: 4px solid var(--primary-color);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .note::before {
            content: 'üí°';
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.25rem;
        }

        .note p {
            color: var(--primary-dark);
            margin-bottom: 0;
        }

        .note strong {
            color: var(--primary-dark);
        }

        /* Comparison cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .comparison-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
        }

        .comparison-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .comparison-card h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }

        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin: 0.25rem;
        }

        .badge-success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }

        .badge-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }

        .badge-danger {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        /* Steps */
        .steps {
            counter-reset: step-counter;
        }

        .step {
            counter-increment: step-counter;
            position: relative;
            padding-left: 3rem;
            margin-bottom: 2rem;
        }

        .step::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 2rem;
            height: 2rem;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header p {
                font-size: 1rem;
            }

            .section {
                padding: 1.5rem;
            }

            h2 {
                font-size: 1.75rem;
            }

            .nav-content {
                gap: 1rem;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Selection */
        ::selection {
            background: var(--primary-color);
            color: white;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1>H∆∞·ªõng d·∫´n tri·ªÉn khai Laravel + Nuxt</h1>
                <p>T√†i li·ªáu chi ti·∫øt tri·ªÉn khai ·ª©ng d·ª•ng web v·ªõi <strong>Laravel Backend</strong> v√† <strong>Nuxt 3 Frontend</strong> theo hai ph∆∞∆°ng ph√°p chuy√™n nghi·ªáp</p>
            </div>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="#overview" class="nav-link">T·ªïng quan</a>
                <a href="#vps-deployment" class="nav-link">Tri·ªÉn khai VPS</a>
                <a href="#vercel-deployment" class="nav-link">Vercel + VPS</a>
                <a href="#comparison" class="nav-link">So s√°nh</a>
                <a href="#optimization" class="nav-link">T·ªëi ∆∞u h√≥a</a>
                <a href="#conclusion" class="nav-link">K·∫øt lu·∫≠n</a>
            </div>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <section id="overview" class="section">
                <h2>üìã T·ªïng quan</h2>
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>üñ•Ô∏è H∆∞·ªõng 1: VPS T·∫≠p trung</h4>
                        <p>Ch·∫°y c·∫£ Frontend v√† Backend tr√™n c√πng m·ªôt VPS</p>
                        <div class="badge badge-success">‚úÖ D·ªÖ qu·∫£n l√Ω</div>
                        <div class="badge badge-warning">‚ö†Ô∏è Ph·ª• thu·ªôc VPS</div>
                    </div>
                    <div class="comparison-card">
                        <h4>‚òÅÔ∏è H∆∞·ªõng 2: Hybrid Cloud</h4>
                        <p>Frontend tr√™n Vercel, Backend tr√™n VPS</p>
                        <div class="badge badge-success">‚úÖ Hi·ªáu nƒÉng cao</div>
                        <div class="badge badge-warning">‚ö†Ô∏è C·∫ßn CORS</div>
                    </div>
                </div>
                <p>M·ªói ph∆∞∆°ng ph√°p s·∫Ω ƒë∆∞·ª£c gi·∫£i th√≠ch chi ti·∫øt v·ªõi c·∫•u h√¨nh, t·ªëi ∆∞u h√≥a, v√† c√°c l∆∞u √Ω b·∫£o m·∫≠t chuy√™n nghi·ªáp.</p>
            </section>

            <section id="vps-deployment" class="section">
                <h2>üñ•Ô∏è I. C·∫£ Laravel v√† Nuxt ch·∫°y tr√™n c√πng VPS</h2>
                <p>Ph∆∞∆°ng ph√°p n√†y tri·ªÉn khai c·∫£ FE v√† BE tr√™n m·ªôt VPS, ph√π h·ª£p khi c·∫ßn ki·ªÉm so√°t to√†n di·ªán ho·∫∑c trong giai ƒëo·∫°n ph√°t tri·ªÉn n·ªôi b·ªô.</p>
                
                <h3>1.1. ∆Øu ƒëi·ªÉm v√† Nh∆∞·ª£c ƒëi·ªÉm</h3>
                <p><strong>∆Øu ƒëi·ªÉm:</strong> D·ªÖ qu·∫£n l√Ω, kh√¥ng c·∫ßn c·∫•u h√¨nh CORS, to√†n quy·ªÅn ki·ªÉm so√°t server.</p>
                <p><strong>Nh∆∞·ª£c ƒëi·ªÉm:</strong> T·ªëc ƒë·ªô t·∫£i ph·ª• thu·ªôc v√†o c·∫•u h√¨nh VPS, c·∫ßn t·ªëi ∆∞u h√≥a th·ªß c√¥ng.</p>

                <h3>1.2. C·∫•u tr√∫c th∆∞ m·ª•c</h3>
                <p>T·ªï ch·ª©c m√£ ngu·ªìn t·∫°i <code>/var/www/your-project/</code>:</p>
                <pre>/var/www/your-project/
‚îú‚îÄ‚îÄ backend/        # M√£ ngu·ªìn Laravel
‚îú‚îÄ‚îÄ frontend/       # M√£ ngu·ªìn Nuxt 3
‚îî‚îÄ‚îÄ docker/redis/   # C·∫•u h√¨nh Docker cho Redis</pre>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> S·ª≠ d·ª•ng user kh√¥ng ph·∫£i root (v√≠ d·ª•: <code>www-data</code>) ƒë·ªÉ ch·∫°y ·ª©ng d·ª•ng, tr√°nh r·ªßi ro b·∫£o m·∫≠t.</p>
                </div>

                <div class="steps">
                    <div class="step">
                        <strong>T·∫°o th∆∞ m·ª•c:</strong>
                        <pre>sudo mkdir -p /var/www/your-project/{backend,frontend,docker/redis}</pre>
                    </div>
                    <div class="step">
                        <strong>Clone repository:</strong>
                        <pre>cd /var/www/your-project/backend
git clone &lt;your-laravel-repo&gt; .
cd /var/www/your-project/frontend
git clone &lt;your-nuxt-repo&gt; .</pre>
                    </div>
                    <div class="step">
                        <strong>C√†i ƒë·∫∑t dependencies:</strong>
                        <ul>
                            <li>Laravel: <code>cd backend && composer install && php artisan key:generate</code></li>
                            <li>Nuxt: <code>cd frontend && npm install</code></li>
                        </ul>
                    </div>
                </div>

                <h3>1.3. C·∫•u h√¨nh Redis v·ªõi Docker</h3>
                <p>S·ª≠ d·ª•ng Docker ƒë·ªÉ ch·∫°y Redis, ƒë·∫£m b·∫£o c√¥ l·∫≠p v√† d·ªÖ qu·∫£n l√Ω.</p>
                <p>File <code>/var/www/your-project/docker/redis/docker-compose.yml</code>:</p>
                <pre>version: '3.8'
services:
  redis:
    image: redis:alpine
    container_name: redis_server
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    restart: always

volumes:
  redis_data:</pre>

                <p><strong>Th·ª±c hi·ªán:</strong> Ch·∫°y <code>docker-compose up -d</code> trong th∆∞ m·ª•c <code>docker/redis/</code>.</p>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> Volume <code>redis_data</code> l∆∞u tr·ªØ d·ªØ li·ªáu Redis b·ªÅn v·ªØng, tr√°nh m·∫•t d·ªØ li·ªáu khi container kh·ªüi ƒë·ªông l·∫°i.</p>
                </div>

                <h3>1.4. C·∫•u h√¨nh Laravel v·ªõi Redis</h3>
                <p>Th√™m v√†o file <code>.env</code> c·ªßa Laravel:</p>
                <pre>APP_ENV=production
APP_DEBUG=false
REDIS_HOST=127.0.0.1
REDIS_PORT=6379</pre>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> ƒê·∫∑t <code>APP_ENV=production</code> v√† <code>APP_DEBUG=false</code> ƒë·ªÉ t·ªëi ∆∞u h√≥a v√† b·∫£o m·∫≠t trong m√¥i tr∆∞·ªùng production.</p>
                </div>

                <h3>1.5. C·∫•u h√¨nh Nginx</h3>
                <p>Proxy c√°c request t·ªõi Laravel (<code>/api/</code>) v√† Nuxt (<code>/</code>).</p>
                <p>File <code>/etc/nginx/sites-available/your-project.conf</code>:</p>
                <pre>server {
    listen 80;
    listen [::]:80;
    server_name your-domain.com;

    # Proxy API requests to Laravel
    location /api/ {
        proxy_pass http://127.0.0.1:8000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Proxy frontend requests to Nuxt
    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Static file caching
    location ~* \.(jpg|jpeg|png|css|js|ico|woff|woff2)$ {
        expires 30d;
        access_log off;
    }

    # Enable gzip compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
}</pre>

                <div class="steps">
                    <div class="step">
                        <strong>T·∫°o file c·∫•u h√¨nh:</strong>
                        <pre>sudo nano /etc/nginx/sites-available/your-project.conf</pre>
                    </div>
                    <div class="step">
                        <strong>K√≠ch ho·∫°t:</strong>
                        <pre>sudo ln -s /etc/nginx/sites-available/your-project.conf /etc/nginx/sites-enabled/</pre>
                    </div>
                    <div class="step">
                        <strong>Ki·ªÉm tra v√† kh·ªüi ƒë·ªông l·∫°i Nginx:</strong>
                        <pre>sudo nginx -t && sudo systemctl restart nginx</pre>
                    </div>
                </div>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> ƒê√£ th√™m gzip v√† caching cho file tƒ©nh ƒë·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng. N√™n c·∫•u h√¨nh HTTPS b·∫±ng Let's Encrypt ƒë·ªÉ b·∫£o m·∫≠t.</p>
                </div>

                <h3>1.6. S·ª≠ d·ª•ng Supervisor ƒë·ªÉ ch·∫°y Laravel v√† Nuxt</h3>
                <p>Supervisor gi·ªØ c√°c ti·∫øn tr√¨nh Laravel v√† Nuxt lu√¥n ch·∫°y.</p>
                <p><strong>C√†i ƒë·∫∑t:</strong> <code>sudo apt install supervisor -y</code></p>

                <p><strong>C·∫•u h√¨nh Laravel</strong> (<code>/etc/supervisor/conf.d/laravel.conf</code>):</p>
                <pre>[program:laravel]
directory=/var/www/your-project/backend
command=php artisan serve --host=0.0.0.0 --port=8000
autostart=true
autorestart=true
user=www-data
stdout_logfile=/var/log/supervisor/laravel.log
stderr_logfile=/var/log/supervisor/laravel_err.log</pre>

                <p><strong>C·∫•u h√¨nh Nuxt</strong> (<code>/etc/supervisor/conf.d/nuxt.conf</code>):</p>
                <pre>[program:nuxt]
directory=/var/www/your-project/frontend
command=/usr/bin/node /var/www/your-project/frontend/node_modules/nuxt/bin/nuxt.js start
autostart=true
autorestart=true
user=www-data
stdout_logfile=/var/log/supervisor/nuxt.log
stderr_logfile=/var/log/supervisor/nuxt_err.log</pre>

                <div class="steps">
                    <div class="step">
                        <strong>Build Nuxt:</strong>
                        <pre>cd /var/www/your-project/frontend && npm run build</pre>
                    </div>
                    <div class="step">
                        <strong>Kh·ªüi ƒë·ªông Supervisor:</strong>
                        <pre>sudo supervisorctl reread && sudo supervisorctl update</pre>
                    </div>
                    <div class="step">
                        <strong>Kh·ªüi ƒë·ªông c√°c ti·∫øn tr√¨nh:</strong>
                        <pre>sudo supervisorctl start laravel nuxt</pre>
                    </div>
                </div>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> S·ª≠ d·ª•ng <code>nuxt.js start</code> thay v√¨ <code>npm run dev</code> cho m√¥i tr∆∞·ªùng production. User <code>www-data</code> gi·∫£m r·ªßi ro b·∫£o m·∫≠t.</p>
                </div>

                <h3>1.7. T·ª± ƒë·ªông deploy v·ªõi GitHub Actions</h3>
                <p>File <code>.github/workflows/deploy.yml</code>:</p>
                <pre>name: Deploy to VPS

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      
      - name: SSH and Deploy
        uses: appleboy/ssh-action@v0.1.6
        with:
          host: ${{ secrets.VPS_IP }}
          username: ${{ secrets.VPS_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          script: |
            cd /var/www/your-project
            git pull origin main
            cd backend
            composer install --no-dev --optimize-autoloader
            php artisan migrate --force
            php artisan optimize
            cd ../frontend
            npm install
            npm run build
            supervisorctl restart laravel nuxt</pre>

                <div class="steps">
                    <div class="step">
                        <strong>Th√™m secrets:</strong> Th√™m <code>VPS_IP</code>, <code>VPS_USER</code>, <code>SSH_PRIVATE_KEY</code> v√†o GitHub repository settings.
                    </div>
                    <div class="step">
                        <strong>K√≠ch ho·∫°t:</strong> Push code ƒë·ªÉ k√≠ch ho·∫°t workflow.
                    </div>
                </div>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> ƒê√£ th√™m c√°c b∆∞·ªõc t·ªëi ∆∞u nh∆∞ <code>composer install --no-dev</code>, <code>php artisan optimize</code>, v√† ch·∫°y migration t·ª± ƒë·ªông.</p>
                </div>

                <h3>1.8. Backup MySQL ƒë·ªãnh k·ª≥</h3>
                <p>Script backup (<code>/root/backup_mysql.sh</code>):</p>
                <pre>#!/bin/bash
DATE=$(date +"%Y-%m-%d-%H-%M")
BACKUP_DIR="/root/db_backups"
DB_USER="your_user"
DB_PASS="your_pass"
DB_NAME="ecommerce"

mkdir -p $BACKUP_DIR
mysqldump -u $DB_USER -p$DB_PASS $DB_NAME > $BACKUP_DIR/ecommerce_$DATE.sql

# X√≥a backup c≈© h∆°n 7 ng√†y
find $BACKUP_DIR -type f -name "*.sql" -mtime +7 -delete</pre>

                <div class="steps">
                    <div class="step">
                        <strong>T·∫°o script:</strong>
                        <pre>sudo nano /root/backup_mysql.sh</pre>
                    </div>
                    <div class="step">
                        <strong>Ph√¢n quy·ªÅn:</strong>
                        <pre>sudo chmod +x /root/backup_mysql.sh</pre>
                    </div>
                    <div class="step">
                        <strong>Th√™m v√†o crontab:</strong> Ch·∫°y h√†ng ng√†y l√∫c 2h s√°ng
                        <pre>sudo crontab -e</pre>
                        <pre>0 2 * * * /bin/bash /root/backup_mysql.sh</pre>
                    </div>
                </div>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> L∆∞u m·∫≠t kh·∫©u trong file <code>.my.cnf</code> ƒë·ªÉ tr√°nh l·ªô th√¥ng tin trong script. V√≠ d·ª•:</p>
                    <pre>[client]
user=your_user
password=your_pass</pre>
                    <p>Sau ƒë√≥ s·ª≠a script: <code>mysqldump --defaults-file=~/.my.cnf $DB_NAME > $BACKUP_DIR/ecommerce_$DATE.sql</code></p>
                </div>
            </section>

            <section id="vercel-deployment" class="section">
                <h2>‚òÅÔ∏è II. Frontend tr√™n Vercel, Backend tr√™n VPS</h2>
                <p>Ph∆∞∆°ng ph√°p n√†y t√°ch FE ch·∫°y tr√™n Vercel (serverless, CDN to√†n c·∫ßu) v√† BE ch·∫°y tr√™n VPS, ph√π h·ª£p khi c·∫ßn hi·ªáu nƒÉng cao cho FE.</p>

                <h3>2.1. ∆Øu ƒëi·ªÉm v√† Nh∆∞·ª£c ƒëi·ªÉm</h3>
                <p><strong>∆Øu ƒëi·ªÉm:</strong> T·ªëc ƒë·ªô t·∫£i FE nhanh nh·ªù CDN, auto build v√† CI/CD t√≠ch h·ª£p.</p>
                <p><strong>Nh∆∞·ª£c ƒëi·ªÉm:</strong> C·∫ßn c·∫•u h√¨nh CORS, logs t√°ch bi·ªát gi·ªØa FE v√† BE, kh√¥ng h·ªó tr·ª£ SSR/PHP tr√™n Vercel.</p>

                <h3>2.2. C·∫•u h√¨nh Nuxt</h3>
                <p>File <code>nuxt.config.ts</code>:</p>
                <pre>export default defineNuxtConfig({
  runtimeConfig: {
    public: {
      apiBase: process.env.NUXT_PUBLIC_API_BASE || 'https://api.your-domain.com/api'
    }
  },
  nitro: {
    preset: 'vercel'
  }
})</pre>

                <p>Th√™m v√†o file <code>.env</code> c·ªßa Nuxt:</p>
                <pre>NUXT_PUBLIC_API_BASE=https://api.your-domain.com/api</pre>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> S·ª≠ d·ª•ng bi·∫øn m√¥i tr∆∞·ªùng ƒë·ªÉ linh ho·∫°t gi·ªØa c√°c m√¥i tr∆∞·ªùng (dev, production). Preset <code>vercel</code> t·ªëi ∆∞u h√≥a build cho Vercel.</p>
                </div>

                <h3>2.3. C·∫•u h√¨nh CORS trong Laravel</h3>
                <p>Ch·ªânh s·ª≠a file <code>config/cors.php</code>:</p>
                <pre>return [
    'paths' => ['api/*'],
    'allowed_methods' => ['*'],
    'allowed_origins' => ['https://your-vercel-domain.vercel.app'],
    'allowed_origins_patterns' => [],
    'allowed_headers' => ['*'],
    'exposed_headers' => [],
    'max_age' => 0,
    'supports_credentials' => false,
];</pre>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> Ch·ªâ ƒë·ªãnh r√µ <code>allowed_methods</code> (nh∆∞ <code>GET, POST, PUT</code>) v√† <code>allowed_headers</code> ƒë·ªÉ tƒÉng b·∫£o m·∫≠t.</p>
                </div>

                <h3>2.4. Deploy Frontend l√™n Vercel</h3>
                <div class="steps">
                    <div class="step">
                        <strong>ƒê·∫©y code:</strong> ƒê·∫©y code Nuxt l√™n GitHub repository.
                    </div>
                    <div class="step">
                        <strong>Li√™n k·∫øt:</strong> Li√™n k·∫øt repository v·ªõi Vercel qua dashboard.
                    </div>
                    <div class="step">
                        <strong>C·∫•u h√¨nh Vercel:</strong>
                        <ul>
                            <li>Framework Preset: Nuxt.js</li>
                            <li>Build Command: <code>npm run build</code></li>
                            <li>Output Directory: <code>.output</code></li>
                        </ul>
                    </div>
                    <div class="step">
                        <strong>Domain:</strong> Th√™m domain t√πy ch·ªânh (n·∫øu c·∫ßn) v√† tr·ªè DNS v·ªÅ Vercel.
                    </div>
                </div>

                <div class="note">
                    <p><strong>L∆∞u √Ω:</strong> Vercel t·ª± ƒë·ªông build m·ªói khi push code l√™n branch ƒë∆∞·ª£c c·∫•u h√¨nh (th∆∞·ªùng l√† <code>main</code>).</p>
                </div>

                <h3>2.5. Backend tr√™n VPS</h3>
                <p>Tri·ªÉn khai Laravel tr√™n VPS t∆∞∆°ng t·ª± H∆∞·ªõng 1 (xem ph·∫ßn 1.2 - 1.8), nh∆∞ng ch·ªâ c·∫ßn c·∫•u h√¨nh Nginx cho API:</p>
                <pre>server {
    listen 80;
    server_name api.your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:8000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</pre>
            </section>

            <section id="comparison" class="section">
                <h2>‚öñÔ∏è III. So s√°nh hai ph∆∞∆°ng ph√°p tri·ªÉn khai</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Ti√™u ch√≠</th>
                                <th>FE+BE tr√™n VPS</th>
                                <th>FE tr√™n Vercel</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ƒê∆°n gi·∫£n</strong></td>
                                <td><span class="badge badge-success">‚úÖ D·ªÖ qu·∫£n l√Ω t·∫≠p trung</span></td>
                                <td><span class="badge badge-danger">‚ùå C·∫ßn c·∫•u h√¨nh CORS, t√°ch domain</span></td>
                            </tr>
                            <tr>
                                <td><strong>T·ªëc ƒë·ªô t·∫£i</strong></td>
                                <td><span class="badge badge-danger">‚ùå Ph·ª• thu·ªôc c·∫•u h√¨nh VPS</span></td>
                                <td><span class="badge badge-success">‚úÖ CDN to√†n c·∫ßu, auto scaling</span></td>
                            </tr>
                            <tr>
                                <td><strong>Debug</strong></td>
                                <td><span class="badge badge-success">‚úÖ To√†n quy·ªÅn ki·ªÉm so√°t logs</span></td>
                                <td><span class="badge badge-danger">‚ùå Logs t√°ch bi·ªát (Vercel + VPS)</span></td>
                            </tr>
                            <tr>
                                <td><strong>Auto deploy</strong></td>
                                <td><span class="badge badge-success">‚úÖ GitHub Actions</span></td>
                                <td><span class="badge badge-success">‚úÖ Vercel CI/CD + GitHub Actions</span></td>
                            </tr>
                            <tr>
                                <td><strong>Qu·∫£n l√Ω domain</strong></td>
                                <td><span class="badge badge-success">‚úÖ M·ªôt domain duy nh·∫•t</span></td>
                                <td><span class="badge badge-danger">‚ùå C·∫ßn 2 domain/subdomain</span></td>
                            </tr>
                            <tr>
                                <td><strong>SSR ho·∫∑c PHP</strong></td>
                                <td><span class="badge badge-success">‚úÖ H·ªó tr·ª£ SSR v√† PHP</span></td>
                                <td><span class="badge badge-danger">‚ùå Vercel kh√¥ng h·ªó tr·ª£ PHP</span></td>
                            </tr>
                            <tr>
                                <td><strong>B·∫£o m·∫≠t</strong></td>
                                <td><span class="badge badge-success">‚úÖ To√†n quy·ªÅn c·∫•u h√¨nh firewall, SSL</span></td>
                                <td><span class="badge badge-success">‚úÖ Vercel t·ª± ƒë·ªông SSL, nh∆∞ng c·∫ßn CORS</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="optimization" class="section">
                <h2>üöÄ IV. T·ªëi ∆∞u h√≥a v√† B·∫£o m·∫≠t</h2>
                <ul>
                    <li><strong>HTTPS:</strong> S·ª≠ d·ª•ng Let's Encrypt ƒë·ªÉ c√†i SSL cho Nginx. V√≠ d·ª•: <code>sudo certbot --nginx -d your-domain.com</code>.</li>
                    <li><strong>Firewall:</strong> C·∫•u h√¨nh UFW tr√™n VPS: <code>sudo ufw allow 80,443,22/tcp</code>.</li>
                    <li><strong>Caching:</strong> S·ª≠ d·ª•ng Redis ho·∫∑c Varnish ƒë·ªÉ cache API responses, gi·∫£m t·∫£i server.</li>
                    <li><strong>Monitoring:</strong> S·ª≠ d·ª•ng Sentry ho·∫∑c New Relic ƒë·ªÉ theo d√µi l·ªói v√† hi·ªáu nƒÉng.</li>
                    <li><strong>Backup:</strong> L∆∞u backup MySQL l√™n d·ªãch v·ª• cloud (nh∆∞ AWS S3) ƒë·ªÉ an to√†n h∆°n.</li>
                </ul>
            </section>

            <section id="conclusion" class="section">
                <h2>üéØ V. K·∫øt lu·∫≠n</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>üñ•Ô∏è H∆∞·ªõng 1 (VPS)</h4>
                        <p>Ph√π h·ª£p khi c·∫ßn to√†n quy·ªÅn ki·ªÉm so√°t, tri·ªÉn khai SSR, ho·∫∑c trong giai ƒëo·∫°n ph√°t tri·ªÉn n·ªôi b·ªô.</p>
                        <div class="badge badge-success">Ki·ªÉm so√°t t·ªëi ƒëa</div>
                        <div class="badge badge-success">D·ªÖ debug</div>
                    </div>
                    <div class="comparison-card">
                        <h4>‚òÅÔ∏è H∆∞·ªõng 2 (Vercel + VPS)</h4>
                        <p>L√Ω t∆∞·ªüng khi c·∫ßn hi·ªáu nƒÉng cao cho FE, t·∫≠n d·ª•ng CDN v√† CI/CD hi·ªán ƒë·∫°i.</p>
                        <div class="badge badge-success">Hi·ªáu nƒÉng cao</div>
                        <div class="badge badge-success">Auto scaling</div>
                    </div>
                </div>
                <p>T√πy v√†o nhu c·∫ßu (chi ph√≠, hi·ªáu nƒÉng, b·∫£o tr√¨), b·∫°n c√≥ th·ªÉ ch·ªçn m·ªôt trong hai ho·∫∑c k·∫øt h·ª£p. N·∫øu c·∫ßn debug chi ti·∫øt ho·∫∑c t·ªëi ∆∞u h√≥a th√™m, h√£y xem x√©t c√°c c√¥ng c·ª• nh∆∞ Vercel Analytics, Sentry, ho·∫∑c c·∫•u h√¨nh caching n√¢ng cao.</p>
            </section>
        </div>
    </main>
</body>
</html>